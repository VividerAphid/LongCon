<!DOCTYPE html>
<head>
    <title>LongCon Local</title>
</head>

<link rel="stylesheet" href="main.css">
<link rel="stylesheet" href="tab.css">

<script src="mapkit/delaunator.js"></script>
<script src="mapkit/utils.js"></script>
<script src="mapkit/randMapBuilder.js"></script>
<script src="mapkit/map.js"></script>

<script src="classes.js"></script>
<script src="bots.js"></script>
<script src="artist.js"></script>
<script src="main.js"></script>
<!-- <script src="stats.js"></script> -->

<script src="ui.js"></script>

<body>
    <div id="menuDiv">
        <label for="mapdrp">Map: </label>
        <select id="mapdrp" onchange="updateMap()">
            <option>Random Gen</option>
            <option>Galcon Galaxy 7</option>
            <option>Galcon Galaxy 8</option>
            <option>Galcon Snowflake 1</option>
            <option>Galcon Snowflake 2</option>     
            <option>Aphid Galaxy 1</option>
            <option>Aphid Galaxy 2</option>
            <option>The X</option>
            <option>Micro Galaxy</option>
            <option>Micro X</option>
            <option>Micro Eight</option>
            <option>Micro Clusters 1</option>
        </select>
        <br>
        <label for="factionCountdrp">Number of Factions: </label>
        <select id="factionCountdrp" onchange="toggleFactionCountSelect()">
            <option>Random Count</option>
            <option>Select Count</option>            
        </select>
        <input id="factionCountinp" value=10 min=1 max=25 type="number" style="display: none" onchange="factionCountChange()">
        <br>
        <label for="playerCountdrp">Players Per Faction: </label>
        <select id="playerCountdrp" onchange="togglePlayerCountSelect()">
            <option>Random Count</option>
            <option>Select Count</option>            
        </select>
        <input id="playerCountinp" value=10 min=1 max=25 type="number" style="display: none" onchange="playerCountChange()">(Total Allowed 250)
        <br>
        <label for="factionListing">Factions:</label>
        <div id="factionListing">
        </div>
        <label for="spectatechx">Spectate Mode: </label>
        <input id="spectatechx" type="checkbox" onchange="toggleCoordinatorChxDisabled()">
        <br>
        <label for="coordinatorChx">Coordinator bot: </label>
        <input id="coordinatorChx" type="checkbox" checked="true">
        <br>
        <label for="bucketModeChx">Bucket Mode: </label>
        <input id="bucketModeChx" type="checkbox">
        <br>
        <label for="spawnCountinp">Spawn Count: </label>
        <input id="spawnCountinp" value="0" min=1 max=1000 type="number"> (Leave at 0 for random)
        <br>
        <button id="startBtn" onclick="startBtnClick()">Start</button>
    </div>
    <div>
        <div id="tabBar" class="tabBar">
            <button class="tabLink" id="mapTabBtn" onclick="openTab(event, 'canvasDiv')">Map</button>
            <button class="tabLink" id="statsTabBtn" onclick="statsTabClick(event, gameData)">Stats</button>
            <button class="tabLink" id="settingsTabBtn" onclick="openTab(event, 'settingsDiv')">Settings</button>
        </div>
        <div id="canvasDiv" class="tabContent">
            <canvas id="gameboard" class="gameCanvas"></canvas>
        </div>
        <div id="statsDiv" class="tabContent">
            <div id="scoresDiv" class="holder-bordered">
                Scores:
                <div id="scoreBox">
                    Ooops! Scores ded :(       
                </div>
            </div>
        </div>
        <div id="settingsDiv" class="tabContent">
            <div id="innerSettings" class="holder-bordered">
                Settings
                <br>
                <label for="minZoomSlider">Minimum Zoom Master Label Rendering: </label>
                <input type="range" id="minZoomSlider" min="0" max="3" value="0.6" step="0.1">
                <input type="number" id="minZoomInp" value=0.6 min=0 max=3 step="0.1">
                <br>
                <label for="minProdZoomSlider">Minimum Zoom Prod Label Rendering: </label>
                <input type="range" id="minProdZoomSlider" min="0" max="3" value="0.6" step="0.1">
                <input type="number" id="minProdZoomInp" value=1 min=0 max=3 step="0.1">
                <br>
                <label for="drawProdLabelsChx">Draw Prod Labels: </label>
                <input id="drawProdLabelsChx" type="checkbox" checked="true">
                <br>
                <label for="drawFacLabelsChx">Draw Faction Labels: </label>
                <input id="drawFacLabelsChx" type="checkbox">
                <br>
                <label for="drawSpectateShipsChx">Draw Ships in Spectator Mode: </label>
                <input id="drawSpectateShipsChx" type="checkbox" checked="true">
            </div>
            <br>
            Coming soon
            <ul>
                <li>-Pan vs click sensitivity</li>
                <li>-Minimum click radius for stars</li>
            </ul>          
        </div>
    </div>
    <script>
        var maxAllowedPlayers = 250;
        var factions = [];
        var map = [];
        updateMap();
        initFactions();
        initFactionListings();
        toggleFactionCountSelect();
        togglePlayerCountSelect();
        tabBar.style.display = "none";
        gameboard.style.display = "none";
    </script>
</body>